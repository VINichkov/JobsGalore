
//= require jquery.min.js
//= require jquery_ujs
//= require bootstrap.min
//= require bootstrap-datepicker
//= require social-share-button
//=require jasny-bootstrap
//=require datalist-polyfill.min
//= require react
//= require components
//= require react_ujs
//= require tinymce
//=require html-formatting.js



var tinyEditorOptions={
    selector: "textarea",
    plugins: "paste lists stylebuttons",
    branding: false,
    toolbar: 'formatselect | bold italic underline backcolor | alignleft aligncenter alignright | numlist bullist outdent indent  | removeformat ',
    image_advtab: true,
    menubar: null,
    block_formats: 'Paragraph=p; Heading 3=h3; Heading 4=h4;',
    paste_preprocess: function(plugin, args) {
        console.log(args.content);
    },
    paste_postprocess: function (plugin, args) {
        var
            valid_elements = {
                'h1,h2,h3,h4,h5,h6,p,ul,li,strong,pre,code,b,span,div': {
                    valid_styles: 'text-align,color',
                    valid_classes: '',
                    valid_attributes: 'style, href, color'
                },
                'form': {
                    valid_styles: null,
                    valid_classes: null,
                    valid_attributes: 'color'
                }
            };
        htmlFormatting(args.node, valid_elements);
    }
};

$(function() {
    $('.datepicker_reg').datepicker({
        orientation: "bottom auto",
        language: "en-AU",
        autoclose: true
    });

    $("#inp").change(function() {
        readURL(this);
    });

    $(".linkedin_click").click( function () {
        $.get("<%=Rails.application.routes.url_helpers.linkedin_resume_url%>", function(data) {
            $("[name='resume[title]']").val(data.title);
            editor.setContent(data.description,0);
            $("[name='resume[industry_id]']").val(data.industry_id);
        });
    });

});